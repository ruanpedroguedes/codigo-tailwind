{% extends 'base.html' %}
{% load static tailwind_tags custom_tags %}
{% tailwind_css %}

{% block content %}

<main class="min-h-screen">
  
<h1 class="text-3xl font-bold text-black m-10">Configurações do Evento:</h1>

<form method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="flex flex-wrap gap-6 m-10 text-black">
  <div>
    {{ event_form.as_p }}
  </div>
  <div>
    {{ address_form.as_p }}
  </div>

  {% if not creating %}
  <div>
    <h2>Setores do Evento</h2>
    <ul>
      {% for sector in sectors %}
      <li>
        <span>
          <p  class="font-bold">{{ sector.title }} ({{ sector.max_capacity }} vagas) </p>
          <a href="{% url 'edit_sector' sector.id %}">✏️</a>
          <a href="{% url 'delete_sector' sector.id %}">🗑️</a>
        </span>
      </li>
      {% endfor %}
    </ul>
       <div class="text-right mt-10">
         <a href="{% url 'create_sector' event_form.instance.pk %}"  class="bg-blue-700 px-6 py-3 rounded-2xl font-bold text-white">Adicionar Setor</a>
      </div>
  </div>
  {% endif %}
</div>
 <div class="m-10">
    <button type="submit" class="bg-blue-700 px-6 py-3 rounded-2xl font-bold text-white">Salvar</button>
  </div>
</form>


{% if event_form.instance.pk and not creating %}
<section class="m-10">
  <div class="mt-10 mb-10">
    <a href="{% url 'delete_event' event_form.instance.pk %}"  class="bg-red-600 px-6 py-3 rounded-2xl font-bold text-white">Excluir Evento</a>
  </div>
  <div class="mt-10 mb-10">
    <a href="{% url 'venda_ingressos'  event_form.instance.pk %}"  class="bg-blue-700 px-6 py-3 rounded-2xl font-bold text-white">Venda de Ingressos</a>
  </div>
</section>

{% endif %}
</main>



{% endblock %}